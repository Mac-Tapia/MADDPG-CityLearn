# Kubernetes Secrets para MADDPG CityLearn
# Cumple con Guía 2025 - Sección 7.2 Seguridad de Secretos
# NOTA: En producción, usar External Secrets Operator o Vault

---
apiVersion: v1
kind: Secret
metadata:
  name: maddpg-citylearn-secrets
  namespace: default
  labels:
    app: maddpg-citylearn
    component: security
type: Opaque
stringData:
  # API Keys (ejemplo - usar valores reales en producción)
  api-key: "maddpg-citylearn-api-key-2025"
  
  # Credenciales de base de datos (si aplica)
  # db-password: "your-secure-password"
  
  # Token de autenticación para métricas
  metrics-token: "prometheus-scrape-token-secure"

---
# Secret para TLS (opcional - para HTTPS interno)
apiVersion: v1
kind: Secret
metadata:
  name: maddpg-citylearn-tls
  namespace: default
  labels:
    app: maddpg-citylearn
    component: security
type: kubernetes.io/tls
data:
  # Certificados base64 encoded (generar con cert-manager en producción)
  # openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
  #   -keyout tls.key -out tls.crt -subj "/CN=maddpg-citylearn"
  # cat tls.crt | base64 -w0
  # cat tls.key | base64 -w0
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJrVENDQVRlZ0F3SUJBZ0lKQUlnTTlnN2xYcUZITUFvR0NDcUdTTTQ5QkFNQ01CSXhFREFPQmdOVkJBTU0KQjNSbGMzUXRZMkV3SGhjTk1qVXdNVEF4TURBd01EQXdXaGNOTWpZd01UQXhNREF3TURBd1dqQVNNUkF3RGdZRApWUVFEREFkMFpYTjBMV05oTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFcGxhY2VkdW1lZW1lCmVtZW1lbWVtZW1lbWVtZW1lbWVtZW1lbWVtZW1lbWVtZW1lbWVtZW1lbWVtZW1lbWVtZW1lbWVtZW1lbWVtZW0KZW1lPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  tls.key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IUUNBUUVFSURVbWVtZW1lbWVtZW1lbWVtZW1lbWVtZW1lbWVtZW1lbWVtZW1lb0FjR0JTdUJCQUFLCm9VUURRVUFFcGxhY2VkdW1lbWVtZW1lbWVtZW1lbWVtZW1lbWVtZW1lbWVtZW1lbWVtZW1lbWVtZW1lbWVtZW0KZW1lbWVtZW1lbWVtZW1lbWVtZW09PQotLS0tLUVORCBFQyBQUklWQVRFIEtFWS0tLS0tCg==

---
# Secret para Docker Registry (si usa registry privado)
apiVersion: v1
kind: Secret
metadata:
  name: maddpg-citylearn-registry
  namespace: default
  labels:
    app: maddpg-citylearn
    component: security
type: kubernetes.io/dockerconfigjson
data:
  # Generar con: kubectl create secret docker-registry ... --dry-run=client -o jsonpath='{.data.\.dockerconfigjson}'
  .dockerconfigjson: eyJhdXRocyI6eyJyZWdpc3RyeS5leGFtcGxlLmNvbSI6eyJ1c2VybmFtZSI6InVzZXIiLCJwYXNzd29yZCI6InBhc3MiLCJhdXRoIjoiZFhObGNqcHdZWE56In19fQ==
